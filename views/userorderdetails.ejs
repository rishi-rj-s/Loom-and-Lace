<%- include('include/header') -%>

<!-- navbar -->
<%- include('include/navbr') -%>

<div class="container-fluid ms-md-4 mt-4">
    <div class="row">
        <div class="col-md-3 account-nav rounded shadow">
            <div class="row">
                <div class="col-4"><label for="name"><%= user.name %></label></div>
                <div class="col-8"><a class="nav-link" href="/cart">
                    <i class="fa-solid fa-wallet me-1"></i>Wallet Amount : <%= user.walletAmount%></a></div>
                </div>
            <hr>
            <ul class="list-unstyled">
                <li>
                    <a href="/useraccount" class="text-decoration-none text-dark">Profile</a>
                </li>
                <li>
                    <a href="/useraddress" class="text-decoration-none text-dark">Addresses</a>
                </li>
                <li>
                    <a href="/userorders" class="text-decoration-none text-white bg-primary d-block py-2 rounded">My Orders</a>
                </li>
                <li>
                    <a href="/wishlisted" class="text-decoration-none text-dark">My Wishlist</a>
                </li>
                <li>
                    <a href="/wallethistory" class="text-decoration-none text-dark">Wallet History</a>
                </li>
                <li>
                    <a href="/forgot-otp" class="text-decoration-none text-dark">Forgot Password</a>
                </li>
                <hr>
                <li>
                    <a href="/logout" class="text-decoration-none text-danger">Logout</a>
                </li>
            </ul>
        </div>
        
<!-- //order detILS -->

<div class="col-md-9 container ">
            <div class="d-flex justify-content-between">
                <h4 class="m-4">Order Details</h4>
            </div>
            <hr>

            <% if(order){ %>
                <div class="row justify-content-center">

                    <% order.items.forEach((item)=>{ %>

                        <div class="card m-3  shadow col-md-8  ">
                            <div class="d-flex justify-content-between m-3">
                                <div class="img-container">
                                    <img width="250px" class="img-fluid"
                                        src="/<%= item.productId.images[0] %>" alt="">
                                </div>
                                <div class="m-2"
                                    style="width: 2px; background-color: rgb(156, 156, 156); height: 100%;">
                                    <!-- vertical line -->
                                </div>
                                <div class="d-flex flex-column">
                                    <span class="fw-light text-primary mt-1">OrderID : <%= order._id %></span>
                                    <span class="fw-bold mt-2">
                                        <%= item.productId.name %>
                                    </span>
                                    <span class="mt-3">Quantity :<%= item.quantity %></span>
                                    
                                    <span class="mt-1">Price : ₹<%= item.price %></span>
                                    <span class="mt-1">Total Price : ₹<%= item.price * item.quantity %></span>
                                </div>
                                <div class="m-2"
                                    style="width: 2px; background-color: rgb(163, 163, 163); height: 100%;">
                                </div>
                                <div class=" d-flex flex-column mt-4">
                                    <div>
                                        <h6>Shipping Adress :</h6>
                                    </div>
                                    <span class="">Name: <%= order.shippingAddress.name %></span>
                                    <span class="">Mobile: <%= order.shippingAddress.mobile %></span>
                                    <span class="">House/Flat: <%= order.shippingAddress.houseName %></span>
                                    <span class="">Locality: <%= order.shippingAddress.locality %></span>
                                    <span class="">PIN: <%= order.shippingAddress.pincode %></span>
                                    <span class="">Dist:<%= order.shippingAddress.district %></span>
                                    <span class="">State:<%= order.shippingAddress.state %></span>
                                </div>
                            </div>
                            <hr>
                            <div class="mb-3">
                                <div class="d-flex justify-content-between">
                                    <span class="fw-bold m-3">Payment Mode : <span class="text-uppercase ">
                                            <%= order.paymentMethod %>
                                        </span> </span>
                                    <%if(order.status==='!Cancelled'){ %>
                                        <span class="fw-bold m-3">Payment Status : <span class="text-warning ">
                                                <%= order.paymentStatus %>
                                            </span> </span>
                                        <%}%>
                                            <%if(order.status==='Cancelled'){ %>
                                                <span class="fw-bold m-3">Order status : <span
                                                        class="text-danger text-uppercase ">
                                                        <%= order.status %>
                                                    </span> </span>
                                                <%}else{%>
                                                    <span class="fw-bold m-3">Order status : <span
                                                            class="text-success text-uppercase ">
                                                            <%= order.status %>
                                                        </span> </span>
                                                    <%}%>
                                                        
                                </div>


                            </div>
                        </div>

                        <%})%>


                </div>
                <% } %>
        </div>
    </div>
    <script>
    </script>
<%- include('include/userFooter') -%>

<%- include('include/footer') -%>